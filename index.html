<!DOCTYPE html>
<html lang="uk" class="bg">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sopilka Tab Creator</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="popups.css">
    <link rel="icon" type="image/x-icon" href="./img/icon.png">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js" type="text/javascript"></script>
</head>

<body>
    <script src="main.js"></script>
    <div class="interview popup">
        <img src="./img/cancel-icon.svg" alt="cancel" class="cancel-icon" onclick="closeInterview()">
        <div class="icon"><img src="./img/quiz.svg" class="quiz-icon"></div>
        <header>Допоможи розробнику – залиш відгук!</header>
        <p>Дякую, що користуєтесь цією розробкою! Будь ласка, приділіть кілька хвилин часу та допоможіть автору провести
            дослідження для дипломної роботи. Опитування не займе більше 5 хвилин, але є дуже важливим для мене!</p>
        <a class="custom-button" href="https://forms.gle/9mYXo6C3LjUgV6cJ7" target="_blank" rel="noopener"
            onclick="closeInterview()">Пройти опитування</a>
    </div>
    <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
    <div class="test popup">
        <img src="./img/cancel-icon.svg" alt="cancel" class="cancel-icon" onclick="closeTest()">
        <script async src="https://telegram.org/js/telegram-widget.js?21" data-telegram-login="SopilkaTabCreatorBot"
            data-size="large" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
        <script type="text/javascript">
            function onTelegramAuth(user) {
                welcomeMessage = `Вітаю, ${user.first_name} ${user.last_name ? user.last_name : ''}!%0AТепер при збереженні результатів роботи на сайті Ваші аплікатурні схеми автоматично дублюватимуться у цей чат.`;
                let url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${user.id}&text=${welcomeMessage}/`;
                let api = new XMLHttpRequest();
                api.open("GET", url, true);
                api.send();
                console.log('success');
            }
        </script>
    </div>
    <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
    <div class="overlay"></div>
    <div class="menu">
        <label for="info"><img src="./img/info.svg" alt="info"></label>
        <input type="checkbox" id="info" onchange="singlePopup(this)">
        <div class="info popup">
            <label for="info"><img src="./img/cancel-icon.svg" alt="cancel" class="cancel-icon"></label>
        </div>
        <label for="settings"><img src="./img/settings.svg" alt="settings"></label>
        <input type="checkbox" id="settings" onchange="singlePopup(this)">
        <div class="settings popup">
            <label for="settings"><img src="./img/cancel-icon.svg" alt="cancel" class="cancel-icon"></label>
            <div class="setting">
                <label for="lang">Мова</label>
                <select name="lang" id="lang" onchange="changeLang(this.value)"></select>
            </div>
            <div class="setting">
                <label for="spacing">Проміжки</label>
                <input id="spacing" type="range" min="0" max="9" value="4" oninput="changeSpacing(this)">
            </div>
            <div class="setting">
                <label for="whiteBg">Біле тло</label>
                <label class="switch">
                    <input type="checkbox" id="whiteBg" onchange="changeBg(this.checked)">
                    <span class="slider round"></span>
                </label>
            </div>
            <div class="setting">
                <label for="showNotes">Показувати ноти</label>
                <label class="switch">
                    <input type="checkbox" id="showNotes" onchange="showNotes(this.checked)" checked>
                    <span class="slider round"></span>
                </label>
            </div>
        </div>
        <div class="overlay"></div>
    </div>
    <header>
        <h1 lang="en">Sopilka Tab Creator</h1>
        <h4 id="slogan">Грати на сопілці – легко, навіть без знання нотної грамоти!</h4>
    </header>
    <main>
        <p id="description">Для <em>десятиотворної хроматичної сопілки</em>. Використовуйте <kbd>#</kbd> після ноти для
            позначення дієз та великі літери, <kbd>+</kbd> і <kbd>++</kbd> для позначення нот вищих октав. Для
            групування нот використовуйте пробіли і переходи на новий рядок, а заголовки, підзаголовки і коментарі можна
            додавати, почавши новий рядок з <kbd>---</kbd>, <kbd>--</kbd> або <kbd>-</kbd> відповідно. Успіхів!</p>
        <div class="options">
            <div>
                <label for="tune">Мелодія</label>
                <select name="tune" id="tune" onchange="changeTune()"></select>
            </div>
            <div id="sopilkaTypeChanger">
                <label for="sopilkaType">Сопілка</label>
                <select name="sopilkaType" id="sopilkaType" onchange="changeSopilkaType(this.value)"></select>
            </div>
        </div>
        <textarea id="notes" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
        <div id="tabs"></div>
        <div id="saving">
            <input type="button" id="btnSave" value="Зберегти" onclick="saveResults()">
            <input type="radio" id="pdf" name="save" checked>
            <input type="radio" id="png" name="save">
            <p id="chooseFormat">Зберегти як <label for="pdf">PDF</label> <label for="png">PNG</label></p>
        </div>
    </main>
    <footer lang="en">Sopilka Tab Creator by <a href="https://youtube.com/c/MaggieFilms" target="_blank">Maggie
            Films</a> <em>☚</em> tutorials & tunes</footer>
</body>

</html>
